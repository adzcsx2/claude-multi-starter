# Claude Multi Worker

![é¡¹ç›®ç¤ºä¾‹](images/example.png)

ä¸­æ–‡æ–‡æ¡£ | [English](README.md)

å¤šå®ä¾‹ Claude CLI å¯åŠ¨å’Œé€šä¿¡å·¥å…·ã€‚åœ¨ WezTerm ä¸­åŒæ—¶è¿è¡Œå¤šä¸ªç‹¬ç«‹çš„ Claude å®ä¾‹ï¼Œå®ç° AI åŠ©æ‰‹ååŒå·¥ä½œã€‚

## ğŸ“‹ å‰ç½®æ¡ä»¶

ä½¿ç”¨å‰è¯·ç¡®ä¿ä½ å·²å®‰è£…ï¼š

1. **Python 3.10+** - æ£€æŸ¥ç‰ˆæœ¬ï¼š`python --version`
2. **WezTerm** - æ£€æŸ¥æ˜¯å¦å®‰è£…ï¼š`wezterm --version`
   - å¦‚æœªå®‰è£…ï¼Œè¯·è®¿é—®ï¼šhttps://wezterm.org/index.html
3. **Claude CLI** - æ£€æŸ¥æ˜¯å¦å®‰è£…ï¼š`claude --version`

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸš€ **å¤šå®ä¾‹å¯åŠ¨** - ä¸€é”®åœ¨ WezTerm æ ‡ç­¾é¡µä¸­å¯åŠ¨å¤šä¸ª Claude å®ä¾‹
- ğŸ’¬ **å®ä¾‹é€šä¿¡** - ä½¿ç”¨ MCP å·¥å…·åœ¨å®ä¾‹é—´å‘é€æ¶ˆæ¯
- ğŸŒ **å®Œæ•´ Unicode æ”¯æŒ** - å®Œç¾æ”¯æŒä¸­æ–‡ã€emoji å’Œæ‰€æœ‰å›½é™…å­—ç¬¦
- âš¡ï¸ **çµæ´»é…ç½®** - é€šè¿‡ `cmw.config` è‡ªå®šä¹‰å®ä¾‹æ•°é‡å’Œè§’è‰²
- ğŸ“ **è‡ªåŠ¨æ˜ å°„** - è‡ªåŠ¨ä¿å­˜å®ä¾‹åˆ°æ ‡ç­¾é¡µçš„æ˜ å°„å…³ç³»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®å®ä¾‹

ç¼–è¾‘ `cmw.config` å®šä¹‰ä½ éœ€è¦çš„å®ä¾‹ï¼š

```json
{
  "providers": ["claude"],
  "flags": {
    "claudeArgs": ["--dangerously-skip-permissions"]
  },
  "claude": {
    "instances": [
      { "id": "default", "role": "general coordinator", "autostart": true },
      { "id": "ui", "role": "UI/UX designer", "autostart": true },
      { "id": "coder", "role": "developer", "autostart": true },
      { "id": "test", "role": "QA engineer", "autostart": true }
    ]
  }
}
```

### 2. å¯åŠ¨å®ä¾‹

åœ¨ **WezTerm ç»ˆç«¯**ä¸­è¿è¡Œï¼š

```bash
python run.py
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

- ä» `cmw.config` è¯»å–é…ç½®
- å¯åŠ¨æ‰€æœ‰ `autostart: true` çš„å®ä¾‹
- åœ¨ WezTerm ä¸­åˆ›å»ºå¤šä¸ªæ ‡ç­¾é¡µ
- æ¯ä¸ªæ ‡ç­¾é¡µå¯åŠ¨ä¸€ä¸ª Claude å®ä¾‹
- ä¿å­˜æ˜ å°„å…³ç³»åˆ° `.cmw_config/tab_mapping.json`

### 3. å®ä¾‹é—´é€šä¿¡

è¿è¡Œ `python run.py` åï¼ŒMCP æœåŠ¡å™¨ä¼šè‡ªåŠ¨é…ç½®ã€‚æ‚¨å¯ä»¥ç›´æ¥å‘å…¶ä»–å®ä¾‹å‘é€æ¶ˆæ¯ï¼š

```
send ui "è®¾è®¡ç™»å½•é¡µé¢"
send coder "å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½"
send test "éªŒè¯ç™»å½•æµç¨‹"
```

**ç‰¹æ€§ï¼š**
- å®Œæ•´ Unicode æ”¯æŒï¼ˆä¸­æ–‡ã€emoji å’Œæ‰€æœ‰å›½é™…å­—ç¬¦å®Œç¾æ”¯æŒï¼‰
- ç®€æ´è¯­æ³•ï¼š`send <å®ä¾‹> "<æ¶ˆæ¯>"`
- MCP æœåŠ¡å™¨é…ç½®ä¼šåœ¨æ¯æ¬¡è¿è¡Œ `python run.py` æ—¶è‡ªåŠ¨æ›´æ–°

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å…¸å‹å·¥ä½œæµ

```
# 1. åœ¨ default å®ä¾‹ä¸­åˆ†é…ä»»åŠ¡ï¼š
send ui "è®¾è®¡ä¸€ä¸ªç°ä»£åŒ–çš„ä»ªè¡¨æ¿ç•Œé¢"
send coder "å®ç°æ•°æ®å¯è§†åŒ–ç»„ä»¶"
send test "ç¼–å†™å•å…ƒæµ‹è¯•"

# 2. åœ¨ ui å®ä¾‹ä¸­ï¼Œè®¾è®¡å®Œæˆåï¼š
send coder "UI è®¾è®¡å·²å®Œæˆï¼Œæ–‡ä»¶åœ¨ /designs ç›®å½•"

# 3. åœ¨ coder å®ä¾‹ä¸­ï¼Œå¼€å‘å®Œæˆåï¼š
send test "åŠŸèƒ½å·²å®ç°ï¼Œè¯·å¼€å§‹æµ‹è¯•"

# 4. åœ¨ test å®ä¾‹ä¸­ï¼Œæµ‹è¯•å®Œæˆåï¼š
send default "æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œå¯ä»¥å‘å¸ƒ"
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
claude-multi-worker/
â”œâ”€â”€ .cmw_config/
â”‚   â”œâ”€â”€ tab_mapping.json        # æ ‡ç­¾é¡µæ˜ å°„ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ .claude-*-session       # å„å®ä¾‹ä¼šè¯æ–‡ä»¶
â”œâ”€â”€ lib/                        # æ ¸å¿ƒåº“æ–‡ä»¶
â”œâ”€â”€ mcp/
â”‚   â””â”€â”€ send-tool/
â”‚       â”œâ”€â”€ server.py           # MCP æœåŠ¡å™¨
â”‚       â”œâ”€â”€ send.py             # å‘é€è„šæœ¬ï¼ˆé›†æˆï¼‰
â”‚       â”œâ”€â”€ server.json         # MCP å…ƒæ•°æ®
â”‚       â””â”€â”€ README.md           # MCP æ–‡æ¡£
â”œâ”€â”€ cmw.config                  # å®ä¾‹é…ç½®æ–‡ä»¶
â”œâ”€â”€ run.py                      # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ README.md                   # è‹±æ–‡æ–‡æ¡£
â””â”€â”€ README_CN.md                # ä¸­æ–‡æ–‡æ¡£
```

## âš™ï¸ é…ç½®è¯´æ˜

### å®ä¾‹é…ç½®é€‰é¡¹

- `id` - å®ä¾‹æ ‡è¯†ç¬¦ï¼ˆç”¨äº send å‘½ä»¤ï¼‰
- `role` - è§’è‰²æè¿°ï¼ˆæç¤ºè¯ï¼‰
- `autostart` - æ˜¯å¦è‡ªåŠ¨å¯åŠ¨

**æ”¯æŒ 1-12 ä¸ªå®ä¾‹**ï¼Œæ¨è 3-5 ä¸ªä»¥è·å¾—æœ€ä½³åä½œæ•ˆæœã€‚

### è‡ªå®šä¹‰å®ä¾‹

æ ¹æ®éœ€æ±‚ä¿®æ”¹ `cmw.config`ï¼š

```json
{
  "claude": {
    "instances": [
      { "id": "architect", "role": "ç³»ç»Ÿæ¶æ„å¸ˆ", "autostart": true },
      { "id": "frontend", "role": "å‰ç«¯å¼€å‘", "autostart": true },
      { "id": "backend", "role": "åç«¯å¼€å‘", "autostart": true },
      { "id": "devops", "role": "è¿ç»´å·¥ç¨‹å¸ˆ", "autostart": true }
    ]
  }
}
```

### æ˜ å°„æ–‡ä»¶

å¯åŠ¨åè‡ªåŠ¨ç”Ÿæˆ `.cmw_config/tab_mapping.json`ï¼š

```json
{
  "work_dir": "/path/to/project",
  "tabs": {
    "default": { "pane_id": "0", "role": "general coordinator" },
    "ui": { "pane_id": "1", "role": "UI/UX designer" },
    "coder": { "pane_id": "2", "role": "developer" },
    "test": { "pane_id": "3", "role": "QA engineer" }
  },
  "created_at": 1234567890.123
}
```

MCP `send_message` å·¥å…·ä»æ­¤æ–‡ä»¶è¯»å– pane ID æ¥å°†æ¶ˆæ¯è·¯ç”±åˆ°ç‰¹å®šæ ‡ç­¾é¡µã€‚

## ğŸš¨ æ•…éšœæ’é™¤

### å¯åŠ¨å¤±è´¥

1. ç¡®è®¤åœ¨ **WezTerm** ç»ˆç«¯ä¸­è¿è¡Œ
2. ç¡®è®¤ Claude CLI å·²å®‰è£…ï¼š`claude --version`

### æ¶ˆæ¯å‘é€å¤±è´¥

1. ç¡®è®¤æ˜ å°„æ–‡ä»¶å­˜åœ¨ï¼š`.cmw_config/tab_mapping.json`
2. é‡æ–°å¯åŠ¨å®ä¾‹åˆ·æ–°æ˜ å°„
3. æ£€æŸ¥å®ä¾‹ ID æ˜¯å¦æ­£ç¡®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
4. **ç¦ç”¨ Claude Skills å†²çª**ï¼šå¦‚æœä½ åœ¨ Claude é…ç½®ä¸­æœ‰è‡ªå®šä¹‰ skillsï¼ˆå¦‚ `ask`ã€`send`ã€`ping` ç­‰ï¼‰ï¼Œå®ƒä»¬å¯èƒ½ä¸æœ¬é¡¹ç›®çš„ MCP å·¥å…·å†²çªã€‚è¯·åœ¨ `~/.config/claude/config.json` ä¸­åˆ é™¤æˆ–é‡å‘½åå†²çªçš„ skills

### WezTerm æ£€æµ‹å¤±è´¥

ç¡®ä¿ `wezterm` åœ¨ PATH ä¸­ï¼š

```bash
wezterm --version
```

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

- **å›¢é˜Ÿåä½œæ¨¡æ‹Ÿ** - åˆ†é…ä¸åŒè§’è‰²ï¼ˆå‰ç«¯ã€åç«¯ã€æµ‹è¯•ç­‰ï¼‰
- **ä»»åŠ¡åˆ†è§£** - å°†å¤æ‚é¡¹ç›®æ‹†åˆ†ç»™ä¸“é—¨çš„å®ä¾‹
- **ä»£ç å®¡æŸ¥** - ä¸€ä¸ªå®ä¾‹å†™ä»£ç ï¼Œå¦ä¸€ä¸ªå®¡æŸ¥
- **å­¦ä¹ è¾…åŠ©** - ä¸€ä¸ªå®ä¾‹è®²è§£ï¼Œå¦ä¸€ä¸ªæé—®

## ğŸ“ æ³¨æ„äº‹é¡¹

- å¿…é¡»åœ¨ WezTerm ç»ˆç«¯ä¸­è¿è¡Œ `python run.py`
- ä½¿ç”¨ `send <å®ä¾‹> "<æ¶ˆæ¯>"` è¿›è¡Œé€šä¿¡
- æ¯ä¸ªæ ‡ç­¾é¡µåŒ…å«ä¸€ä¸ª Claude å®ä¾‹ï¼Œå…·æœ‰ç‹¬ç‰¹çš„ pane ID
- æ¯ä¸ªå®ä¾‹ç»´æŠ¤ç‹¬ç«‹çš„ä¼šè¯æ–‡ä»¶
- æ˜ å°„æ–‡ä»¶åœ¨æ¯æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆ
- ä½¿ç”¨ `Ctrl+C` å¯ä»¥é€€å‡ºæŸä¸ªå®ä¾‹
- æ”¯æŒ c1-c12 ç®€å†™ï¼š`send c1 "æ¶ˆæ¯"`

## ğŸ“„ è®¸å¯è¯

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ“¦ ç‰ˆæœ¬å†å²

### v1.0.1 (2026-01-30)

**é—®é¢˜ä¿®å¤ï¼š**

- ä¿®å¤æ¶ˆæ¯å‘é€åæœªè‡ªåŠ¨æäº¤çš„å¯é æ€§é—®é¢˜
- æ”¹è¿›é•¿æ¶ˆæ¯ï¼ˆ>100 å­—ç¬¦ï¼‰å¤„ç†ï¼Œå¢åŠ  2 ç§’å»¶è¿Ÿå’Œç©ºå­—ç¬¦ä¸²è§¦å‘æœºåˆ¶
- ä¼˜åŒ–æ¶ˆæ¯ä¼ é€’æ—¶åºï¼Œé˜²æ­¢æ–‡æœ¬è¾“å…¥å’Œå›è½¦é”®ä¹‹é—´çš„ç«æ€æ¡ä»¶

**æ”¹è¿›ï¼š**

- æ¶ˆæ¯å‘é€ç°ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æ¨¡å¼ï¼Œæé«˜å¯é æ€§
- ä¸ºé•¿æ–‡æœ¬æ¶ˆæ¯æ·»åŠ ç‰¹æ®Šå¤„ç†ï¼Œç¡®ä¿æ­£ç¡®æäº¤
- å¢å¼ºè·¨å¹³å°æ¶ˆæ¯æäº¤å…¼å®¹æ€§
